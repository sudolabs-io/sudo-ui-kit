import{u as he,F as Se,a as ge,b as be,d as ve,c as we,e as xe,s as Re,z as X}from"./form-ChnSfYvC.js";import{r as l}from"./index-CtvPRVHf.js";import{c as Q}from"./index-BdQq_4o_.js";import{c as ye,a as _,u as Ee}from"./index-CX7tzMzt.js";import{u as j}from"./index-BoQdhQ_x.js";import{u as Pe,c as De}from"./index-dT0s9VWY.js";import{u as Ce,a as _e}from"./index-CLrGYhjd.js";import{P as T}from"./index-h_XQ3zVu.js";import{j as S}from"./jsx-runtime-CrtPYZmV.js";import{c as Me}from"./utils-CytzSlOG.js";import"./index-BwobEAja.js";import"./label-CEIV9Tht.js";import"./WorldIcon-DyIe6gvx.js";import"./ClockIcon-Bz0S9Ov7.js";import"./LoaderIcon-BsJcep18.js";import"./index-BBfPtjBF.js";import"./index-COGUMIcY.js";import"./index-W1kuYZ3C.js";import"./index-CN8SkAuB.js";import"./jsx-runtime-DPpqJSFY.js";var Z=["PageUp","PageDown"],ee=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],te={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},M="Slider",[z,Ie,Ve]=De(M),[oe,ht]=ye(M,[Ve]),[Ae,K]=oe(M),ne=l.forwardRef((e,t)=>{const{name:o,min:n=0,max:s=100,step:c=1,orientation:r="horizontal",disabled:i=!1,minStepsBetweenThumbs:d=0,defaultValue:f=[n],value:x,onValueChange:a=()=>{},onValueCommit:u=()=>{},inverted:b=!1,form:R,...g}=e,p=l.useRef(new Set),m=l.useRef(0),v=r==="horizontal"?je:ke,[h=[],I]=Pe({prop:x,defaultProp:f,onChange:w=>{var D;(D=[...p.current][m.current])==null||D.focus(),a(w)}}),B=l.useRef(h);function F(w){const y=Fe(h,w);V(w,y)}function fe(w){V(w,m.current)}function pe(){const w=B.current[m.current];h[m.current]!==w&&u(h)}function V(w,y,{commit:D}={commit:!1}){const U=Le(c),H=Ye(Math.round((w-n)/c)*c+n,U),A=Q(H,[n,s]);I((C=[])=>{const E=Ne(C,A,y);if(Oe(E,d*c)){m.current=E.indexOf(A);const $=String(E)!==String(C);return $&&D&&u(E),$?E:C}else return C})}return S.jsx(Ae,{scope:e.__scopeSlider,name:o,disabled:i,min:n,max:s,valueIndexToChangeRef:m,thumbs:p.current,values:h,orientation:r,form:R,children:S.jsx(z.Provider,{scope:e.__scopeSlider,children:S.jsx(z.Slot,{scope:e.__scopeSlider,children:S.jsx(v,{"aria-disabled":i,"data-disabled":i?"":void 0,...g,ref:t,onPointerDown:_(g.onPointerDown,()=>{i||(B.current=h)}),min:n,max:s,inverted:b,onSlideStart:i?void 0:F,onSlideMove:i?void 0:fe,onSlideEnd:i?void 0:pe,onHomeKeyDown:()=>!i&&V(n,0,{commit:!0}),onEndKeyDown:()=>!i&&V(s,h.length-1,{commit:!0}),onStepKeyDown:({event:w,direction:y})=>{if(!i){const H=Z.includes(w.key)||w.shiftKey&&ee.includes(w.key)?10:1,A=m.current,C=h[A],E=c*H*y;V(C+E,A,{commit:!0})}}})})})})});ne.displayName=M;var[re,se]=oe(M,{startEdge:"left",endEdge:"right",size:"width",direction:1}),je=l.forwardRef((e,t)=>{const{min:o,max:n,dir:s,inverted:c,onSlideStart:r,onSlideMove:i,onSlideEnd:d,onStepKeyDown:f,...x}=e,[a,u]=l.useState(null),b=j(t,v=>u(v)),R=l.useRef(void 0),g=Ee(s),p=g==="ltr",m=p&&!c||!p&&c;function P(v){const h=R.current||a.getBoundingClientRect(),I=[0,h.width],F=Y(I,m?[o,n]:[n,o]);return R.current=h,F(v-h.left)}return S.jsx(re,{scope:e.__scopeSlider,startEdge:m?"left":"right",endEdge:m?"right":"left",direction:m?1:-1,size:"width",children:S.jsx(ae,{dir:g,"data-orientation":"horizontal",...x,ref:b,style:{...x.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const h=P(v.clientX);r==null||r(h)},onSlideMove:v=>{const h=P(v.clientX);i==null||i(h)},onSlideEnd:()=>{R.current=void 0,d==null||d()},onStepKeyDown:v=>{const I=te[m?"from-left":"from-right"].includes(v.key);f==null||f({event:v,direction:I?-1:1})}})})}),ke=l.forwardRef((e,t)=>{const{min:o,max:n,inverted:s,onSlideStart:c,onSlideMove:r,onSlideEnd:i,onStepKeyDown:d,...f}=e,x=l.useRef(null),a=j(t,x),u=l.useRef(void 0),b=!s;function R(g){const p=u.current||x.current.getBoundingClientRect(),m=[0,p.height],v=Y(m,b?[n,o]:[o,n]);return u.current=p,v(g-p.top)}return S.jsx(re,{scope:e.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:S.jsx(ae,{"data-orientation":"vertical",...f,ref:a,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const p=R(g.clientY);c==null||c(p)},onSlideMove:g=>{const p=R(g.clientY);r==null||r(p)},onSlideEnd:()=>{u.current=void 0,i==null||i()},onStepKeyDown:g=>{const m=te[b?"from-bottom":"from-top"].includes(g.key);d==null||d({event:g,direction:m?-1:1})}})})}),ae=l.forwardRef((e,t)=>{const{__scopeSlider:o,onSlideStart:n,onSlideMove:s,onSlideEnd:c,onHomeKeyDown:r,onEndKeyDown:i,onStepKeyDown:d,...f}=e,x=K(M,o);return S.jsx(T.span,{...f,ref:t,onKeyDown:_(e.onKeyDown,a=>{a.key==="Home"?(r(a),a.preventDefault()):a.key==="End"?(i(a),a.preventDefault()):Z.concat(ee).includes(a.key)&&(d(a),a.preventDefault())}),onPointerDown:_(e.onPointerDown,a=>{const u=a.target;u.setPointerCapture(a.pointerId),a.preventDefault(),x.thumbs.has(u)?u.focus():n(a)}),onPointerMove:_(e.onPointerMove,a=>{a.target.hasPointerCapture(a.pointerId)&&s(a)}),onPointerUp:_(e.onPointerUp,a=>{const u=a.target;u.hasPointerCapture(a.pointerId)&&(u.releasePointerCapture(a.pointerId),c(a))})})}),ie="SliderTrack",ce=l.forwardRef((e,t)=>{const{__scopeSlider:o,...n}=e,s=K(ie,o);return S.jsx(T.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});ce.displayName=ie;var O="SliderRange",le=l.forwardRef((e,t)=>{const{__scopeSlider:o,...n}=e,s=K(O,o),c=se(O,o),r=l.useRef(null),i=j(t,r),d=s.values.length,f=s.values.map(u=>ue(u,s.min,s.max)),x=d>1?Math.min(...f):0,a=100-Math.max(...f);return S.jsx(T.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:i,style:{...e.style,[c.startEdge]:x+"%",[c.endEdge]:a+"%"}})});le.displayName=O;var L="SliderThumb",de=l.forwardRef((e,t)=>{const o=Ie(e.__scopeSlider),[n,s]=l.useState(null),c=j(t,i=>s(i)),r=l.useMemo(()=>n?o().findIndex(i=>i.ref.current===n):-1,[o,n]);return S.jsx(Te,{...e,ref:c,index:r})}),Te=l.forwardRef((e,t)=>{const{__scopeSlider:o,index:n,name:s,...c}=e,r=K(L,o),i=se(L,o),[d,f]=l.useState(null),x=j(t,P=>f(P)),a=d?r.form||!!d.closest("form"):!0,u=Ce(d),b=r.values[n],R=b===void 0?0:ue(b,r.min,r.max),g=Be(n,r.values.length),p=u==null?void 0:u[i.size],m=p?He(p,R,i.direction):0;return l.useEffect(()=>{if(d)return r.thumbs.add(d),()=>{r.thumbs.delete(d)}},[d,r.thumbs]),S.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[i.startEdge]:`calc(${R}% + ${m}px)`},children:[S.jsx(z.ItemSlot,{scope:e.__scopeSlider,children:S.jsx(T.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":r.min,"aria-valuenow":b,"aria-valuemax":r.max,"aria-orientation":r.orientation,"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,tabIndex:r.disabled?void 0:0,...c,ref:x,style:b===void 0?{display:"none"}:e.style,onFocus:_(e.onFocus,()=>{r.valueIndexToChangeRef.current=n})})}),a&&S.jsx(Ke,{name:s??(r.name?r.name+(r.values.length>1?"[]":""):void 0),form:r.form,value:b},n)]})});de.displayName=L;var Ke=e=>{const{value:t,...o}=e,n=l.useRef(null),s=_e(t);return l.useEffect(()=>{const c=n.current,r=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(r,"value").set;if(s!==t&&d){const f=new Event("input",{bubbles:!0});d.call(c,t),c.dispatchEvent(f)}},[s,t]),S.jsx("input",{style:{display:"none"},...o,ref:n,defaultValue:t})};function Ne(e=[],t,o){const n=[...e];return n[o]=t,n.sort((s,c)=>s-c)}function ue(e,t,o){const c=100/(o-t)*(e-t);return Q(c,[0,100])}function Be(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Fe(e,t){if(e.length===1)return 0;const o=e.map(s=>Math.abs(s-t)),n=Math.min(...o);return o.indexOf(n)}function He(e,t,o){const n=e/2,c=Y([0,50],[0,n]);return(n-c(t)*o)*o}function ze(e){return e.slice(0,-1).map((t,o)=>e[o+1]-t)}function Oe(e,t){if(t>0){const o=ze(e);return Math.min(...o)>=t}return!0}function Y(e,t){return o=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(o-e[0])}}function Le(e){return(String(e).split(".")[1]||"").length}function Ye(e,t){const o=Math.pow(10,t);return Math.round(e*o)/o}var me=ne,Ue=ce,$e=le,G=de;const N=l.forwardRef(({className:e,isRange:t,...o},n)=>l.createElement(me,{ref:n,className:Me("relative flex w-full touch-none select-none items-center",e),...o},l.createElement(Ue,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary"},l.createElement($e,{className:"absolute h-full bg-primary"})),l.createElement(G,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background drop-shadow-sm transition-colors focus-visible:outline-none disabled:pointer-events-none"}),t&&l.createElement(G,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background drop-shadow-sm transition-colors focus-visible:outline-none disabled:pointer-events-none"})));N.displayName=me.displayName;N.__docgenInfo={description:"",methods:[],props:{isRange:{required:!1,tsType:{name:"boolean"},description:""}}};const Xe=X.object({amount:X.number().array().optional()}),Ge=()=>{const e=he({resolver:Re(Xe),defaultValues:{amount:[30,70]}});return React.createElement(Se,{...e},React.createElement("form",{onSubmit:t=>{t.preventDefault(),e.handleSubmit(o=>console.log(o))},className:"space-y-6"},React.createElement(ge,{control:e.control,name:"amount",render:({field:t})=>React.createElement(be,{className:"flex flex-row items-start space-x-2 space-y-0 p-4"},React.createElement(ve,null,React.createElement(N,{...t,isRange:!0,onValueChange:t.onChange,min:0,max:1e3,step:1})),React.createElement("div",{className:"space-y-1 leading-none"},React.createElement(we,null,"Accept amount and conditions"),React.createElement(xe,null,"You agree to our Terms of Service and Privacy Policy.")))})))},k={render:()=>React.createElement(Ge,null)},St={title:"Components/Slider/Slider",component:N};var W,q,J;k.parameters={...k.parameters,docs:{...(W=k.parameters)==null?void 0:W.docs,source:{originalSource:`{
  render: () => <SliderStory />
}`,...(J=(q=k.parameters)==null?void 0:q.docs)==null?void 0:J.source}}};const gt=["Default"];export{k as Default,gt as __namedExportsOrder,St as default};
